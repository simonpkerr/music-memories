{% extends 'SkNdUserBundle::memoryWallLayout.html.twig' %}
    
{% block title %}{{ mw.name }} &ndash; a Memory wall){% endblock %}
{% block content %}
{% set wallBelongsToThisUser = app.user is not null and mw.user.username == app.user.username %}
<h1>{{ mw.name|capitalize }}</h1>
{% include "SkNdUserBundle:MemoryWall:memoryWallMediaResourcesPartial.html.twig" 
    with {
        'wallBelongsToThisUser' : wallBelongsToThisUser,
        'mw'    : mw,
        'apis'  : apis
    } 
%}

<div class="third-width fr">
    <h3>Details</h3>
    <dl id="memoryWallDetails">
        <dt>Description</dt>
        <dd>{{mw.description is not null ? mw.description : 'No description available'}}</dd>
        <dt>Associated Decade</dt>
        <dd>{{mw.associatedDecade is not null ? mw.associatedDecade.decadeName : 'All decades'}}</dd>
        <dt>Date Created</dt>
        <dd>{{mw.dateCreated|date("d/m/y")}}</dd>
        {# if the wall is public and belongs to someone else, give a link to show all their memory walls #}
        {% if mw.isPublic and not wallBelongsToThisUser %}
        <dt>Created by</dt>
        <dd><a title="view all of {{mw.user.username}}&rsquo;s Memory Walls)" href="{{path('memoryWallsIndex', {'scope' : mw.user.usernameCanonical}) }}">{{mw.user.username}}</a></dd>
        {% endif %}
    </dl> 
    {# if the memory wall being shown belongs to the current user, show further actions #}
    {% if wallBelongsToThisUser %}
    <div id="memoryWallActions">
        <h3>Actions</h3>
        <ul class="actions">
            <li class="edit-it"><a title="edit this wall" class="button" href="{{ path('memoryWallEdit',{'slug':mw.slug}) }}"><span>Edit this wall</span></a> &ndash; Update the details of this wall, go nuts.</li>
            <li class="delete-it"><a title="delete this wall" class="button" href="{{ path('memoryWallDelete', {'slug':mw.slug}) }}"><span>Delete this wall</span></a> &ndash; If you really want to, you can delete it, but where&rsquo;s the fun in that?</li>
        </ul>
    </div>
    {% endif %}
</div>
{% endblock content %}
