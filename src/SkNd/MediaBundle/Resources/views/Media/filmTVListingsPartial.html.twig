{% if mainResponse is defined %}
<div class="pagingControls">
{% include "SkNdMediaBundle:Media:pagerPartial.html.twig" 
with 
{
'currentPage':mainResponse.Items.Request.ItemSearchRequest.ItemPage,
'pagerParams':pagerParams
} 
%}
</div>    

<ul>
{% for item in mainResponse.Items.Item %}
<li class="listing">
    <dl>
        <dt><a title="see more details for {{item.ItemAttributes.Title}}" href="{{path('mediaDetails', {'media':media, 'decade':decade, 'genre':genre, 'id':item.ASIN })}}">{{item.ItemAttributes.Title}}</a></dt>
        <dd>
            
            <img src="{{item.MediumImage is defined ? item.MediumImage.URL : asset('bundles/SkNd/images/image-placeholder.jpg') }}" alt="{{item.ItemAttributes.Title}}" />
            <ul>
                <li><a target="_blank" href="{{item.DetailPageURL}}">Buy from Amazon {% if item.ItemAttributes.ListPrice is defined %}for {{ item.ItemAttributes.ListPrice.FormattedPrice }}{% endif %}</a></li>
                {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                <li>
                    <ul class="userMemoryWalls">
                    {% for mw in app.user.memoryWalls %}
                            <li><a href="{{path('memoryWallAddMediaResource', {'slug': mw.slug, 'api': api, 'id':item.ASIN })}}" title="add &ldquo;{{item.ItemAttributes.Title}}&rdquo; to your memory wall"><span>Add this to</span> <span><strong>&ldquo;{{ mw.name }}&rdquo;</strong></span></a></li>
                    {% endfor %}
                    </ul>
                </li>
                {% else %}
                    <li><a href="{{path('memoryWallAddMediaResource', {'api': api, 'id':item.ASIN })}}" title="add &ldquo;{{item.ItemAttributes.Title}}&rdquo; to your memory wall">Add this to your Memory Wall</a></li>
                {% endif %}
                
            </ul>
        </dd>
    </dl>
</li>
{% endfor %}
</ul>
{#disclaimer for all film results including tv#}
{% if genre == 'all-genres' %}
<p class="note">Please note that the &lsquo;all&rsquo; Films genre also includes TV listings</p>

{% endif %}

{% else %}
<h2>Sorry&hellip;</h2>
<p>{{exception is defined ? exception : 'No results were found'}}</p>
{% endif %}